import{_ as f,a as d,c,o as l,b as i,d as o,e as r,t as u,f as m,n as g,g as h,h as p,F as b}from"./index-9b6f2306.js";const v="/vue-pinterest-analog/assets/51XAfkqcUrL2-853fee28.png",I={data(){return{FullInfo:[],userPhoto:[],userInfo:[],postInfo:[],imageLoaded:!1,imageDownloadUrl:""}},async beforeMount(){try{var t=JSON.parse(localStorage.getItem("favCards")).filter(e=>e.id==location.search.split("id=")[1])}catch{var t=[]}localStorage.getItem("favCards")!=null&&t.length>0?(this.FullInfo=t[0],this.userPhoto=t[0].user.profile_image,this.userInfo=t[0].user,this.postInfo=t[0].urls,this.imageLoaded=!0):await d.get(c.url+"/photos/"+location.search.split("id=")[1]+"?client_id="+c.idClient).then(e=>{this.FullInfo=e.data,this.userPhoto=e.data.user.profile_image,this.userInfo=e.data.user,this.postInfo=e.data.urls,this.imageLoaded=!0,console.log(e.data)})},mounted(){const t=location.search.split("id=")[1],e="Mnw0MDgxMDd8MHwxfGFsbHx8fHx8fHx8fDE2NzU5NzgzNTM",a=c.url+"/photos/"+t+"/download?ixid="+e+"&client_id="+c.idClient;d.get(a).then(n=>{let s=n.data.url;this.toDataURL(s)}).catch(n=>{console.log(n)})},methods:{likeImg(t){try{var e=JSON.parse(localStorage.getItem("favCards")).filter(n=>n.id==t.id)}catch{var e=[]}if(e.length==0)if(t.activeClass="active",localStorage.getItem("favCards")==null){var a=[];a.push(t),localStorage.setItem("favCards",JSON.stringify(a))}else{var a=JSON.parse(localStorage.getItem("favCards"));a.push(t),localStorage.setItem("favCards",JSON.stringify(a))}else{var a=JSON.parse(localStorage.getItem("favCards")).filter(s=>s.id!=t.id);localStorage.setItem("favCards",JSON.stringify(a))}console.log("arrFilter"),console.log(e)},async toDataURL(t){const a=await(await fetch(t)).blob(),n=window.URL.createObjectURL(a);this.imageDownloadUrl=n}}},y={class:"col-md-8 mx-auto profile-card"},w={class:"px-4 pt-0 pb-4 row"},x={class:"media align-items-end profile-head col"},C={class:"profile mr-3"},S=["src"],k={key:1,style:{color:"white"}},L={class:"media-body mb-5 text-white"},N={key:0,class:"mt-0 mb-0"},U={key:1,class:"mt-0 mb-0"},D={key:2,class:"small mb-4"},O=o("i",{class:"fas fa-map-marker-alt mr-2"},null,-1),J={key:3,class:"small mb-4"},F={class:"media align-items-end profile-head col"},M={class:"p-4 d-flex justify-content-end text-center"},V=o("i",{class:"bi bi-heart"},null,-1),P=[V],z=["href"],H=o("i",{class:"bi bi-download"},null,-1),R={class:"py-4 px-4"},j={class:"col-lg-12 mb-2 pr-lg-1 card-img"},A=["src"],B={key:1};function E(t,e,a,n,s,_){return l(),i("div",y,[o("div",null,[o("div",w,[o("div",x,[o("div",C,[s.imageLoaded?(l(),i("img",{key:0,src:s.userPhoto.large,alt:"...",width:"130",class:"rounded mb-2 img-thumbnail"},null,8,S)):r("",!0),s.imageLoaded?r("",!0):(l(),i("p",k,"Loading image..."))]),o("div",L,[s.userInfo.name!=null?(l(),i("h4",N,u(s.userInfo.name),1)):r("",!0),s.userInfo.name==null?(l(),i("h4",U,"Информация отсутствует")):r("",!0),s.userInfo.location!=null?(l(),i("p",D,[O,m(u(s.userInfo.location),1)])):r("",!0),s.userInfo.location==null?(l(),i("p",J,"Информация отсутствует")):r("",!0)])]),o("div",F,[o("div",M,[o("button",{type:"button",class:g("btn btn-default fav-btn "+s.FullInfo.activeClass),"data-bs-toggle":"button","aria-pressed":"true",onClick:e[0]||(e[0]=G=>_.likeImg(s.FullInfo))},P,2),o("a",{href:s.imageDownloadUrl,class:"btn btn-warning download-btn",id:"download",download:""},[H,m("Скачать ")],8,z)])])])]),o("div",R,[o("div",null,[o("div",j,[s.imageLoaded?(l(),i("img",{key:0,src:s.postInfo.full,alt:"",class:"img-fluid rounded shadow-sm",style:{"border-radius":"8px"}},null,8,A)):r("",!0),s.imageLoaded?r("",!0):(l(),i("p",B,"Loading image..."))])])])])}const T=f(I,[["render",E]]),q=o("div",{class:"img-page-bg"},[o("img",{src:v})],-1),K=h({__name:"AboutView",setup(t){return(e,a)=>(l(),i(b,null,[q,p(T)],64))}});export{K as default};
